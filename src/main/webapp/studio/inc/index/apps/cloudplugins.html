<div id="cloudplugins_container">
  <div class="fh-box-outer">
    <h4 class="fh-box-header">
      Cloud Plugins
    </h4>
    <div class="fh-box-inner">
      <div class="alerts"></div>

      <div id="plugins-intro" class="">
        <ul id="plugins-tabs" class="nav nav-tabs">
          <!-- Dynamically generated -->
        </ul>

        <div class="">
          <div class="plugins-home">
            <div id="pluginTabContent" class="tab-content">
              <!-- Dynamically generated -->
            </div>
          </div>
        </div>
      </div>

      <div id="plugins-configure" class="container-fluid" style="display: none;">
        <div class="span3">
          <h3>Configure {pluginName}</h3>
          <form>
            <fieldset>
            </fieldset>
            <a id="plugins-save" class="btn btn-primary configureSave">Give me the code &raquo;</a> <a id="plugins-cancel" class="btn">Cancel</a>
          </form>
        </div>
        <div class="span3">
          <img class="pluginConfigureImage" src="" alt="Plugin configure image">
        </div>
      </div>

      <div id="plugins-code" class="container-fluid" style="display: none;">
        <img src="" class="pluginsCodeImage">
        <h3>Using {pluginName}</h3>

        <p>To get started with your plugin, follow these simple steps:</p>
        <h4>1) Add the following line to cloud/package.json:</h4>
<pre class="pluginsPre" id="packageTemplate" style="display : none;">
{
  "name": "Your Cloud App",
  "version": "1.0.0",
  "dependencies" : {
    "fh-nodeapp" : "*",
<strong>    "{pluginName}" : "{version}"</strong>
  }
}

</pre>
<pre class="pluginsPre" id="packagejson">

</pre>
        <br />
        <h4>2) Add the following code where you want to use your plugin:</h4>
<pre class="pluginsPre pluginSnippet" id="snippet-request">
var request = require('request');
request('http://www.google.com', function (error, response, body) {
  if (!error && response.statusCode == 200) {
    console.log(body) // Print the google web page.
  }
});
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-sendgrid">
/*
  @param to : recipient
  @param subject : email subjecrt
  @param body : message body
 */
exports.email = function(params, cb){
  var SendGrid = require('sendgrid').SendGrid;
  var sendgrid = new SendGrid(process.env.SENDGRID_USERNAME, process.env.SENDGRID_PASSWORD);
  sendgrid.send({
    to: params.to,
    from: process.env.SENDGRID_FROM,
    fromname : process.env.SENDGRID_FROMNAME,
    subject: params.subject,
    text: params.body || "Here is an email from a FeedHenry app!"
  }, function(success, message) {
    if (!success) {
      return cb(message);
    }
    return cb(null, { ok : true});
  });
};
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-twilio">
/*
  Sends an SMS with the twilio API
  @param to : recipient
  @param body : message body
 */
exports.sms = function(params, cb){
  // Your accountSid and authToken from twilio.com/user/account
  var accountSid = process.env.TWILIO_SID,
  authToken = process.env.TWILIO_AUTH,
  client = require('twilio')(accountSid, authToken);

  client.sms.messages.create({
    body: params.body,
    to: params.to,
    from: process.env.TWILIO_NUMBER
  }, function(err, message) {
    return cb(err, message);
  });
};
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-s3">
/*
  Connects to amazon S3 bucket
*/
exports.s3 = function(params, callback){
  var s3 = require('knox'),
  client = s3.createClient({
    key: process.env.S3_KEY,
    secret: process.env.S3_SECRET,
    bucket: process.env.S3_BUCKET
  });
  client.list({}, function(err, data){
    if (err) {
      return callback(err);
    }
    var contents = data && data.Contents;
    if (!contents){
      return callback({err : "No files found" });
    }
    return callback(null, contents);
  });
};
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-oracle11g">
/*
  Connects to Oracle 11g
*/
exports.oracle = function(params, callback){
  var oracledb = require('oracle');
  oracledb.connect({
    "hostname": process.env.ORACLE_HOSTNAME,
    "database": process.env.ORACLE_DATABASE,
    "user":     process.env.ORACLE_USER,
    "password": process.env.ORACLE_PASSWORD,
    "port":     process.env.ORACLE_PORT
  }, callback);
}
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-mongodb">
/*
  Connects to a MongoDB Instance
*/
exports.mongo = function(params, callback){
  var mongodb = require('mongodb');
  var client = new mongodb.Db(process.env.MONGODB_DATABASE, new mongodb.Server(process.env.MONGODB_HOSTNAME, process.env.MONGODB_PORT, {}), { w: 1 });
  return callback(null, client);
}
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-openstack">
/*
  Connects to a OpenStack swift storage instance
*/
exports.openstack = function(params, callback){
  var storage = require('openstack-storage');
  var storageSwift = new storage.OpenStackStorage (authFn, function(err, res, tokens) {

  });

}
</pre>
<pre class="pluginsPre pluginSnippet" id="snippet-salesforce">
/*
 Creates a connection into Salesforce CRM
 */
exports.salesforce = function(params, callback){
  var sf = require('node-salesforce');
  var conn = new sf.Connection({
    serverUrl : process.env.SALESFORCE_SERVER
  });
  conn.login(username, password, function(err, userInfo) {
    if (err) {
        return console.error(err);
    }
    console.log(conn.accessToken);
    console.log("User ID: " + userInfo.id);
    console.log("Org ID: " + userInfo.organizationId);
  });
}
</pre>




        <a id="plugins-done" class="btn btn-primary">Done!</a>

      </div>
    </div>
  </div>
</div>
